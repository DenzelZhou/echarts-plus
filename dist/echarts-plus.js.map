{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///echarts-plus.js","webpack:///webpack/bootstrap 8a88c2fdba74cfc9f8b3","webpack:///./src/transfer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///external {\"root\":\"echarts\",\"commonjs2\":\"echarts\",\"commonjs\":\"echarts\",\"amd\":\"echarts\"}","webpack:///./src/transfer/config.js","webpack:///external {\"root\":\"_\",\"commonjs2\":\"lodash\",\"commonjs\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./src/echarts-plus.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_defineProperty","key","writable","build","data","config","coord","opt","categoryInfo","generateCategoryInfo","_lodash2","merge","option","categoryIndexMap","indexMap","series","generateSeries","legends","legendTarget","chain","map","compact","uniq","flatten","length","legend","show","visaulVisions","filter","v","_config","visionsOrder","channel","visualMap","generateVisualMap","coordOption","visions","range","min","minBy","field","max","maxBy","visualRange","inRange","calculable","xInfo","yInfo","xAxis","axis","yAxis","assign","valueTranslator","defaultValueTranslator","isArray","forEach","axisIndex","type","categories","uniqBy","sortBy","categoriesName","indexMapItem","index","push","seriesConfig","itemTranslator","defaultItemTranslator","sConfig","generator","groupBy","group","subConfig","sort","b","nameVision","find","item","seriesType","getSeriesDefaultOption","seriesOption","_lodash","g","Function","eval","e","window","rect","polar","x","y","angle","symbolSize","color","scatter","mapType","global","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_echarts","_echarts2","_transfer","_transfer2","EChartsPlus","_data","_option","_echartsOption","echarts","setOption","ele","document","getElementById","init"],"mappings":"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","file":"echarts-plus.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"echarts\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"echarts\", \"lodash\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"echarts\"), require(\"lodash\")) : factory(root[\"echarts\"], root[\"_\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"echarts\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"echarts\", \"lodash\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"echarts\"), require(\"lodash\")) : factory(root[\"echarts\"], root[\"_\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = build;\n\nvar _lodash = __webpack_require__(4);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _config = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * EChartsPlus option transfer\n                                                                                                                                                                                                                   * 将 EChartsPlus 的配置转化为 ECharts 的配置\n                                                                                                                                                                                                                   */\n\n\nfunction build(data, config) {\n  // 没有找到坐标系，默认为是ECharts的Option\n  if (config.coord == null) {\n    return config;\n  }\n  var opt = {};\n  // 初始化类目轴相关配置信息\n  // categoryInfo like this:\n  // {\n  //   option: {\n  //     xAxis: [],\n  //     yAxis: []\n  //   },\n  //   indexMap: {\n  //     xxx_field: {\n  //       xxxx: 1\n  //     }\n  //   }\n  // }\n  var categoryInfo = generateCategoryInfo(data, config);\n  opt = _lodash2.default.merge(opt, categoryInfo.option);\n  var categoryIndexMap = categoryInfo.indexMap || {};\n\n  // 生成series\n  var series = generateSeries(data, config, config.series, categoryIndexMap);\n  opt.series = series;\n\n  // 生成legend\n  var legends = [];\n  if (config.legendTarget === 'series') {\n    legends = _lodash2.default.chain(series).map('name').compact().uniq().value();\n  } else if (config.legendTarget === 'item') {\n    legends = _lodash2.default.chain(series).map('data').flatten().map('name').compact().uniq().value();\n  }\n  if (legends.length > 0) {\n    opt.legend = {\n      show: true,\n      data: legends\n    };\n  }\n\n  // 生成 visualMap\n  var visaulVisions = _lodash2.default.chain(config.series).map('visions').flatten().filter(function (v) {\n    return _config.visionsOrder[v.channel] >= 2;\n  }).value();\n  if (visaulVisions.length > 0) {\n    opt.visualMap = generateVisualMap(data, config, visaulVisions);\n  }\n\n  // 合并默认配置\n  opt = _lodash2.default.merge(opt, _config.coordOption[config.coord]);\n  opt = _lodash2.default.merge(opt, config.option);\n  return opt;\n}\n\nfunction generateVisualMap(data, config, visions) {\n  return visions.map(function (v) {\n    var min = _lodash2.default.minBy(data, v.field)[v.field];\n    var max = _lodash2.default.maxBy(data, v.field)[v.field];\n    var range;\n    if (_config.visualRange[v.channel]) {\n      range = _defineProperty({}, v.channel, _config.visualRange[v.channel]);\n    }\n    return {\n      min: min,\n      max: max,\n      show: config.coord === 'map',\n      inRange: range,\n      calculable: true\n    };\n  });\n}\n\nfunction generateCategoryInfo(data, config, channel) {\n  if (!channel) {\n    var xInfo = generateCategoryInfo(data, config, 'x');\n    var yInfo = generateCategoryInfo(data, config, 'y');\n    return {\n      option: {\n        xAxis: xInfo.axis,\n        yAxis: yInfo.axis\n      },\n      indexMap: _lodash2.default.assign(xInfo.indexMap, yInfo.indexMap)\n    };\n  }\n\n  var indexMap = {};\n  var valueTranslator = config.valueTranslator || defaultValueTranslator;\n\n  var userOption = config.option || {};\n  var axis = config[channel + 'Axis'] || [];\n  if (!_lodash2.default.isArray(axis)) {\n    axis = [axis];\n  }\n  var visions = _lodash2.default.chain(config.series).map('visions').flatten().filter({ channel: channel }).value();\n  visions.forEach(function (v) {\n    var axisIndex = v.option && v.option[channel + 'AxisIndex'] || 0;\n    axis[axisIndex] = axis[axisIndex] || {\n      type: channel === 'x' ? 'category' : 'value'\n    };\n    if (axis[axisIndex].type === 'category') {\n      var categories = _lodash2.default.chain(data).uniqBy(v.field).sortBy(v.field).value();\n      var categoriesName = [];\n      var indexMapItem = {};\n      categories.forEach(function (c, index) {\n        indexMapItem[c[v.field]] = index;\n        categoriesName.push(valueTranslator(v.field, c[v.field], c));\n      });\n      axis[axisIndex].data = categoriesName;\n      indexMap[v.field] = indexMapItem;\n    }\n  });\n  return {\n    axis: visions.length > 0 ? axis : null,\n    indexMap: indexMap\n  };\n}\n\nfunction generateSeries(data, config, seriesConfig, categoryIndexMap) {\n  var itemTranslator = config.itemTranslator || defaultItemTranslator;\n  var valueTranslator = config.valueTranslator || defaultValueTranslator;\n  var series = _lodash2.default.chain(seriesConfig).map(function (sConfig) {\n    if (sConfig.generator) {\n      // 需要循环生成多个series\n      return _lodash2.default.chain(data).groupBy(sConfig.generator).map(function (group, key) {\n        var subConfig = {\n          name: valueTranslator(sConfig.generator, key, group[0])\n        };\n        _lodash2.default.assign(subConfig, sConfig);\n        subConfig.generator = null;\n        return generateSeries(group, config, [subConfig], categoryIndexMap)[0];\n      }).value();\n    }\n    var visions = _lodash2.default.chain(sConfig.visions).filter(function (v) {\n      return v.channel !== 'name';\n    }).sort(function (a, b) {\n      return _config.visionsOrder[a.channel] - _config.visionsOrder[b.channel];\n    }).value();\n    var nameVision = _lodash2.default.find(sConfig.visions, { channel: 'name' });\n    var s = {};\n    s.name = sConfig.name || sConfig.option && sConfig.option.name;\n    s.data = data.map(function (item) {\n      var value = visions.map(function (v) {\n        if (categoryIndexMap[v.field]) {\n          return categoryIndexMap[v.field][item[v.field]];\n        } else {\n          return item[v.field];\n        }\n      });\n      var name = itemTranslator(item);\n      if (name == null && nameVision) {\n        name = valueTranslator(nameVision.field, item[nameVision.field], item);\n      }\n      return {\n        name: name || s.name,\n        value: value\n      };\n    });\n    s.type = sConfig.type || _config.seriesType[config.coord];\n    s = _lodash2.default.merge(s, sConfig.option);\n    s = _lodash2.default.merge(s, getSeriesDefaultOption(s.type));\n    return s;\n  }).value();\n  return _lodash2.default.flatten(series);\n}\n\nfunction getSeriesDefaultOption(type) {\n  return _config.seriesOption[type];\n}\n\nfunction defaultItemTranslator(item) {\n  return item.name || null;\n}\n\nfunction defaultValueTranslator(field, value, item) {\n  if (item && item[field + '__name']) {\n    return item[field + '__name'];\n  } else {\n    return value;\n  }\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar coordOption = exports.coordOption = {\n  rect: {},\n  map: {}\n};\n\nvar seriesType = exports.seriesType = {\n  rect: 'bar',\n  polar: 'pie',\n  map: 'map'\n};\n\nvar visionsOrder = exports.visionsOrder = {\n  x: 0,\n  y: 1,\n  angle: 0,\n  symbolSize: 2,\n  color: 3,\n  name: -1\n};\n\nvar seriesOption = exports.seriesOption = {\n  scatter: {},\n  map: {\n    mapType: 'china'\n  }\n};\n\nvar visualRange = exports.visualRange = {\n  symbolSize: [10, 80]\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _echarts = __webpack_require__(2);\n\nvar _echarts2 = _interopRequireDefault(_echarts);\n\nvar _transfer = __webpack_require__(0);\n\nvar _transfer2 = _interopRequireDefault(_transfer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EChartsPlus = function () {\n  function EChartsPlus(data, option) {\n    _classCallCheck(this, EChartsPlus);\n\n    this._data = data;\n    this._option = option;\n    this._echartsOption = null;\n\n    this.echarts = null;\n  }\n\n  _createClass(EChartsPlus, [{\n    key: 'setData',\n    value: function setData(data) {\n      this._data = data;\n      this.setOption(this._option);\n    }\n  }, {\n    key: 'setOption',\n    value: function setOption(option) {\n      this._option = option;\n      if (this.echarts) {\n        this._echartsOption = (0, _transfer2.default)(this._data, this._option);\n        this.echarts.setOption(this._echartsOption);\n      }\n    }\n  }, {\n    key: 'renderTo',\n    value: function renderTo(ele) {\n      if (typeof ele === 'string') {\n        // ele is a id\n        ele = document.getElementById(ele);\n      }\n      this.echarts = _echarts2.default.init(ele);\n      if (this._echartsOption) {\n        // option already cached\n        this.echarts.setOption(this._echartsOption);\n      } else {\n        // generate echartsOption\n        this.setOption(this._option);\n      }\n    }\n  }, {\n    key: 'getECharts',\n    value: function getECharts() {\n      return this.echarts;\n    }\n  }], [{\n    key: 'buildOption',\n    value: function buildOption(data, option) {\n      return (0, _transfer2.default)(data, option);\n    }\n  }]);\n\n  return EChartsPlus;\n}();\n\nglobal.EChartsPlus = global.EChartsPlus || EChartsPlus;\nglobal.echarts = global.echarts || _echarts2.default;\n\nexports.default = EChartsPlus;\n\n\nmodule.exports = exports['default'];\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// echarts-plus.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8a88c2fdba74cfc9f8b3","/**\n * EChartsPlus option transfer\n * 将 EChartsPlus 的配置转化为 ECharts 的配置\n */\nimport _ from 'lodash'\nimport { coordOption, visionsOrder, seriesOption, seriesType, visualRange } from './config'\n\nexport default function build (data, config) {\n  // 没有找到坐标系，默认为是ECharts的Option\n  if (config.coord == null) {\n    return config\n  }\n  var opt = {}\n  // 初始化类目轴相关配置信息\n  // categoryInfo like this:\n  // {\n  //   option: {\n  //     xAxis: [],\n  //     yAxis: []\n  //   },\n  //   indexMap: {\n  //     xxx_field: {\n  //       xxxx: 1\n  //     }\n  //   }\n  // }\n  var categoryInfo = generateCategoryInfo(data, config)\n  opt = _.merge(opt, categoryInfo.option)\n  var categoryIndexMap = categoryInfo.indexMap || {}\n\n  // 生成series\n  var series = generateSeries(data, config, config.series, categoryIndexMap)\n  opt.series = series\n\n  // 生成legend\n  var legends = []\n  if (config.legendTarget === 'series') {\n    legends = _.chain(series).map('name').compact().uniq().value()\n  } else if (config.legendTarget === 'item') {\n    legends = _.chain(series).map('data').flatten().map('name').compact().uniq().value()\n  }\n  if (legends.length > 0) {\n    opt.legend = {\n      show: true,\n      data: legends\n    }\n  }\n\n  // 生成 visualMap\n  var visaulVisions = _.chain(config.series).map('visions').flatten().filter((v) => {\n    return visionsOrder[v.channel] >= 2\n  }).value()\n  if (visaulVisions.length > 0) {\n    opt.visualMap = generateVisualMap(data, config, visaulVisions)\n  }\n\n  // 合并默认配置\n  opt = _.merge(opt, coordOption[config.coord])\n  opt = _.merge(opt, config.option)\n  return opt\n}\n\nfunction generateVisualMap (data, config, visions) {\n  return visions.map((v) => {\n    var min = _.minBy(data, v.field)[v.field]\n    var max = _.maxBy(data, v.field)[v.field]\n    var range\n    if (visualRange[v.channel]) {\n      range = {\n        [v.channel]: visualRange[v.channel]\n      }\n    }\n    return {\n      min: min,\n      max: max,\n      show: config.coord === 'map',\n      inRange: range,\n      calculable: true\n    }\n  })\n}\n\nfunction generateCategoryInfo (data, config, channel) {\n  if (!channel) {\n    var xInfo = generateCategoryInfo(data, config, 'x')\n    var yInfo = generateCategoryInfo(data, config, 'y')\n    return {\n      option: {\n        xAxis: xInfo.axis,\n        yAxis: yInfo.axis\n      },\n      indexMap: _.assign(xInfo.indexMap, yInfo.indexMap)\n    }\n  }\n\n  var indexMap = {}\n  var valueTranslator = config.valueTranslator || defaultValueTranslator\n\n  var userOption = config.option || {}\n  var axis = config[channel + 'Axis'] || []\n  if (!_.isArray(axis)) {\n    axis = [axis]\n  }\n  var visions = _.chain(config.series).map('visions').flatten().filter({ channel: channel }).value()\n  visions.forEach((v) => {\n    var axisIndex = (v.option && v.option[channel + 'AxisIndex']) || 0\n    axis[axisIndex] = axis[axisIndex] || {\n      type: channel === 'x' ? 'category' : 'value'\n    }\n    if (axis[axisIndex].type === 'category') {\n      var categories = _.chain(data).uniqBy(v.field).sortBy(v.field).value()\n      var categoriesName = []\n      var indexMapItem = {}\n      categories.forEach(function (c, index) {\n        indexMapItem[c[v.field]] = index\n        categoriesName.push(valueTranslator(v.field, c[v.field], c))\n      })\n      axis[axisIndex].data = categoriesName\n      indexMap[v.field] = indexMapItem\n    }\n  })\n  return {\n    axis: visions.length > 0 ? axis : null,\n    indexMap: indexMap\n  }\n}\n\nfunction generateSeries (data, config, seriesConfig, categoryIndexMap) {\n  var itemTranslator = config.itemTranslator || defaultItemTranslator\n  var valueTranslator = config.valueTranslator || defaultValueTranslator\n  var series = _.chain(seriesConfig).map((sConfig) => {\n    if (sConfig.generator) {\n      // 需要循环生成多个series\n      return _.chain(data).groupBy(sConfig.generator).map((group, key) => {\n        var subConfig = {\n          name: valueTranslator(sConfig.generator, key, group[0])\n        }\n        _.assign(subConfig, sConfig)\n        subConfig.generator = null\n        return generateSeries(group, config, [subConfig], categoryIndexMap)[0]\n      }).value()\n    }\n    var visions = _.chain(sConfig.visions).filter((v) => {\n      return v.channel !== 'name'\n    }).sort((a, b) => {\n      return visionsOrder[a.channel] - visionsOrder[b.channel]\n    }).value()\n    var nameVision = _.find(sConfig.visions, { channel: 'name' })\n    var s = {}\n    s.name = sConfig.name || (sConfig.option && sConfig.option.name)\n    s.data = data.map((item) => {\n      var value = visions.map((v) => {\n        if (categoryIndexMap[v.field]) {\n          return categoryIndexMap[v.field][item[v.field]]\n        } else {\n          return item[v.field]\n        }\n      })\n      var name = itemTranslator(item)\n      if (name == null && nameVision) {\n        name = valueTranslator(nameVision.field, item[nameVision.field], item)\n      }\n      return {\n        name: name || s.name,\n        value: value\n      }\n    })\n    s.type = sConfig.type || seriesType[config.coord]\n    s = _.merge(s, sConfig.option)\n    s = _.merge(s, getSeriesDefaultOption(s.type))\n    return s\n  }).value()\n  return _.flatten(series)\n}\n\nfunction getSeriesDefaultOption (type) {\n  return seriesOption[type]\n}\n\nfunction defaultItemTranslator (item) {\n  return item.name || null\n}\n\nfunction defaultValueTranslator (field, value, item) {\n  if (item && item[field + '__name']) {\n    return item[field + '__name']\n  } else {\n    return value\n  }\n}\n\nmodule.exports = exports['default']\n\n\n\n// WEBPACK FOOTER //\n// ./src/transfer/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"echarts\",\"commonjs2\":\"echarts\",\"commonjs\":\"echarts\",\"amd\":\"echarts\"}\n// module id = 2\n// module chunks = 0","export const coordOption = {\n  rect: {\n  },\n  map: {\n  }\n}\n\nexport const seriesType = {\n  rect: 'bar',\n  polar: 'pie',\n  map: 'map'\n}\n\nexport const visionsOrder = {\n  x: 0,\n  y: 1,\n  angle: 0,\n  symbolSize: 2,\n  color: 3,\n  name: -1\n}\n\nexport const seriesOption = {\n  scatter: {\n  },\n  map: {\n    mapType: 'china'\n  }\n}\n\nexport const visualRange = {\n  symbolSize: [10, 80]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/transfer/config.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"_\",\"commonjs2\":\"lodash\",\"commonjs\":\"lodash\",\"amd\":\"lodash\"}\n// module id = 4\n// module chunks = 0","import echarts from 'echarts'\nimport transfer from './transfer'\n\nclass EChartsPlus {\n\n  constructor (data, option) {\n    this._data = data\n    this._option = option\n    this._echartsOption = null\n\n    this.echarts = null\n  }\n\n  setData (data) {\n    this._data = data\n    this.setOption(this._option)\n  }\n\n  setOption (option) {\n    this._option = option\n    if (this.echarts) {\n      this._echartsOption = transfer(this._data, this._option)\n      this.echarts.setOption(this._echartsOption)\n    }\n  }\n\n  static buildOption (data, option) {\n    return transfer(data, option)\n  }\n\n  renderTo (ele) {\n    if (typeof ele === 'string') {\n      // ele is a id\n      ele = document.getElementById(ele)\n    }\n    this.echarts = echarts.init(ele)\n    if (this._echartsOption) {\n      // option already cached\n      this.echarts.setOption(this._echartsOption)\n    } else {\n      // generate echartsOption\n      this.setOption(this._option)\n    }\n  }\n\n  getECharts () {\n    return this.echarts\n  }\n}\n\nglobal.EChartsPlus = global.EChartsPlus || EChartsPlus\nglobal.echarts = global.echarts || echarts\n\nexport default EChartsPlus\n\nmodule.exports = exports['default']\n\n\n\n// WEBPACK FOOTER //\n// ./src/echarts-plus.js"],"sourceRoot":""}