{"version":3,"sources":["webpack:///echarts-plus.js","webpack:///webpack/bootstrap 5420ff4db52212ac53c5","webpack:///./src/transfer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///external \"echarts\"","webpack:///./src/transfer/config.js","webpack:///external {\"commonjs\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}","webpack:///./src/echarts-plus.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_defineProperty","key","writable","build","data","config","coord","opt","categoryInfo","generateCategoryInfo","_lodash2","merge","option","categoryIndexMap","indexMap","series","generateSeries","legends","legendTarget","chain","map","compact","uniq","flatten","length","legend","show","visaulVisions","filter","v","_config","visionsOrder","channel","visualMap","generateVisualMap","coordOption","visions","range","min","minBy","field","max","maxBy","visualRange","inRange","calculable","xInfo","yInfo","xAxis","axis","yAxis","assign","valueTranslator","defaultValueTranslator","isArray","forEach","axisIndex","type","categories","uniqBy","sortBy","categoriesName","indexMapItem","index","push","seriesConfig","itemTranslator","defaultItemTranslator","sConfig","generator","groupBy","group","subConfig","sort","a","b","nameVision","find","item","seriesType","getSeriesDefaultOption","seriesOption","_lodash","g","this","Function","eval","e","window","echarts","rect","polar","x","y","angle","symbolSize","color","scatter","mapType","undefined","global","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_echarts","_echarts2","_transfer","_transfer2","EChartsPlus","_data","_option","_echartsOption","setOption","ele","document","getElementById","init"],"mappings":"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","file":"echarts-plus.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = build;\n\nvar _lodash = __webpack_require__(4);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _config = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * EChartsPlus option transfer\n                                                                                                                                                                                                                   * 将 EChartsPlus 的配置转化为 ECharts 的配置\n                                                                                                                                                                                                                   */\n\n\nfunction build(data, config) {\n  // 没有找到坐标系，默认为是ECharts的Option\n  if (config.coord == null) {\n    return config;\n  }\n  var opt = {};\n  // 初始化类目轴相关配置信息\n  // categoryInfo like this:\n  // {\n  //   option: {\n  //     xAxis: [],\n  //     yAxis: []\n  //   },\n  //   indexMap: {\n  //     xxx_field: {\n  //       xxxx: 1\n  //     }\n  //   }\n  // }\n  var categoryInfo = generateCategoryInfo(data, config);\n  opt = _lodash2.default.merge(opt, categoryInfo.option);\n  var categoryIndexMap = categoryInfo.indexMap || {};\n\n  // 生成series\n  var series = generateSeries(data, config, config.series, categoryIndexMap);\n  opt.series = series;\n\n  // 生成legend\n  var legends = [];\n  if (config.legendTarget === 'series') {\n    legends = _lodash2.default.chain(series).map('name').compact().uniq().value();\n  } else if (config.legendTarget === 'item') {\n    legends = _lodash2.default.chain(series).map('data').flatten().map('name').compact().uniq().value();\n  }\n  if (legends.length > 0) {\n    opt.legend = {\n      show: true,\n      data: legends\n    };\n  }\n\n  // 生成 visualMap\n  var visaulVisions = _lodash2.default.chain(config.series).map('visions').flatten().filter(function (v) {\n    return _config.visionsOrder[v.channel] >= 2;\n  }).value();\n  if (visaulVisions.length > 0) {\n    opt.visualMap = generateVisualMap(data, config, visaulVisions);\n  }\n\n  // 合并默认配置\n  opt = _lodash2.default.merge(opt, _config.coordOption[config.coord]);\n  opt = _lodash2.default.merge(opt, config.option);\n  return opt;\n}\n\nfunction generateVisualMap(data, config, visions) {\n  return visions.map(function (v) {\n    var min = _lodash2.default.minBy(data, v.field)[v.field];\n    var max = _lodash2.default.maxBy(data, v.field)[v.field];\n    var range;\n    if (_config.visualRange[v.channel]) {\n      range = _defineProperty({}, v.channel, _config.visualRange[v.channel]);\n    }\n    return {\n      min: min,\n      max: max,\n      show: config.coord === 'map',\n      inRange: range,\n      calculable: true\n    };\n  });\n}\n\nfunction generateCategoryInfo(data, config, channel) {\n  if (!channel) {\n    var xInfo = generateCategoryInfo(data, config, 'x');\n    var yInfo = generateCategoryInfo(data, config, 'y');\n    return {\n      option: {\n        xAxis: xInfo.axis,\n        yAxis: yInfo.axis\n      },\n      indexMap: _lodash2.default.assign(xInfo.indexMap, yInfo.indexMap)\n    };\n  }\n\n  var indexMap = {};\n  var valueTranslator = config.valueTranslator || defaultValueTranslator;\n\n  var userOption = config.option || {};\n  var axis = config[channel + 'Axis'] || [];\n  if (!_lodash2.default.isArray(axis)) {\n    axis = [axis];\n  }\n  var visions = _lodash2.default.chain(config.series).map('visions').flatten().filter({ channel: channel }).value();\n  visions.forEach(function (v) {\n    var axisIndex = v.option && v.option[channel + 'AxisIndex'] || 0;\n    axis[axisIndex] = axis[axisIndex] || {\n      type: channel === 'x' ? 'category' : 'value'\n    };\n    if (axis[axisIndex].type === 'category') {\n      var categories = _lodash2.default.chain(data).uniqBy(v.field).sortBy(v.field).value();\n      var categoriesName = [];\n      var indexMapItem = {};\n      categories.forEach(function (c, index) {\n        indexMapItem[c[v.field]] = index;\n        categoriesName.push(valueTranslator(v.field, c[v.field], c));\n      });\n      axis[axisIndex].data = categoriesName;\n      indexMap[v.field] = indexMapItem;\n    }\n  });\n  return {\n    axis: visions.length > 0 ? axis : null,\n    indexMap: indexMap\n  };\n}\n\nfunction generateSeries(data, config, seriesConfig, categoryIndexMap) {\n  var itemTranslator = config.itemTranslator || defaultItemTranslator;\n  var valueTranslator = config.valueTranslator || defaultValueTranslator;\n  var series = _lodash2.default.chain(seriesConfig).map(function (sConfig) {\n    if (sConfig.generator) {\n      // 需要循环生成多个series\n      return _lodash2.default.chain(data).groupBy(sConfig.generator).map(function (group, key) {\n        var subConfig = {\n          name: valueTranslator(sConfig.generator, key, group[0])\n        };\n        _lodash2.default.assign(subConfig, sConfig);\n        subConfig.generator = null;\n        return generateSeries(group, config, [subConfig], categoryIndexMap)[0];\n      }).value();\n    }\n    var visions = _lodash2.default.chain(sConfig.visions).filter(function (v) {\n      return v.channel !== 'name';\n    }).sort(function (a, b) {\n      return _config.visionsOrder[a.channel] - _config.visionsOrder[b.channel];\n    }).value();\n    var nameVision = _lodash2.default.find(sConfig.visions, { channel: 'name' });\n    var s = {};\n    s.name = sConfig.name || sConfig.option && sConfig.option.name;\n    s.data = data.map(function (item) {\n      var value = visions.map(function (v) {\n        if (categoryIndexMap[v.field]) {\n          return categoryIndexMap[v.field][item[v.field]];\n        } else {\n          return item[v.field];\n        }\n      });\n      var name = itemTranslator(item);\n      if (name == null && nameVision) {\n        name = valueTranslator(nameVision.field, item[nameVision.field], item);\n      }\n      return {\n        name: name || s.name,\n        value: value\n      };\n    });\n    s.type = sConfig.type || _config.seriesType[config.coord];\n    s = _lodash2.default.merge(s, sConfig.option);\n    s = _lodash2.default.merge(s, getSeriesDefaultOption(s.type));\n    return s;\n  }).value();\n  return _lodash2.default.flatten(series);\n}\n\nfunction getSeriesDefaultOption(type) {\n  return _config.seriesOption[type];\n}\n\nfunction defaultItemTranslator(item) {\n  return item.name || null;\n}\n\nfunction defaultValueTranslator(field, value, item) {\n  if (item && item[field + '__name']) {\n    return item[field + '__name'];\n  } else {\n    return value;\n  }\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = echarts;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar coordOption = exports.coordOption = {\n  rect: {},\n  map: {}\n};\n\nvar seriesType = exports.seriesType = {\n  rect: 'bar',\n  polar: 'pie',\n  map: 'map'\n};\n\nvar visionsOrder = exports.visionsOrder = {\n  x: 0,\n  y: 1,\n  angle: 0,\n  symbolSize: 2,\n  color: 3,\n  name: -1\n};\n\nvar seriesOption = exports.seriesOption = {\n  scatter: {},\n  map: {\n    mapType: 'china'\n  }\n};\n\nvar visualRange = exports.visualRange = {\n  symbolSize: [10, 80]\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = undefined;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _echarts = __webpack_require__(2);\n\nvar _echarts2 = _interopRequireDefault(_echarts);\n\nvar _transfer = __webpack_require__(0);\n\nvar _transfer2 = _interopRequireDefault(_transfer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EChartsPlus = function () {\n  function EChartsPlus(data, option) {\n    _classCallCheck(this, EChartsPlus);\n\n    this._data = data;\n    this._option = option;\n    this._echartsOption = null;\n\n    this.echarts = null;\n  }\n\n  _createClass(EChartsPlus, [{\n    key: 'setData',\n    value: function setData(data) {\n      this._data = data;\n      this.setOption(this._option);\n    }\n  }, {\n    key: 'setOption',\n    value: function setOption(option) {\n      this._option = option;\n      if (this.echarts) {\n        this._echartsOption = (0, _transfer2.default)(this._data, this._option);\n        this.echarts.setOption(this._echartsOption);\n      }\n    }\n  }, {\n    key: 'renderTo',\n    value: function renderTo(ele) {\n      if (typeof ele === 'string') {\n        // ele is a id\n        ele = document.getElementById(ele);\n      }\n      this.echarts = _echarts2.default.init(ele);\n      if (this._echartsOption) {\n        // option already cached\n        this.echarts.setOption(this._echartsOption);\n      } else {\n        // generate echartsOption\n        this.setOption(this._option);\n      }\n    }\n  }, {\n    key: 'getECharts',\n    value: function getECharts() {\n      return this.echarts;\n    }\n  }], [{\n    key: 'buildOption',\n    value: function buildOption(data, option) {\n      return (0, _transfer2.default)(data, option);\n    }\n  }]);\n\n  return EChartsPlus;\n}();\n\nglobal.EChartsPlus = global.EChartsPlus || EChartsPlus;\nglobal.echarts = global.echarts || _echarts2.default;\n\nexports.default = EChartsPlus;\n\n\nmodule.exports = exports['default'];\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// echarts-plus.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5420ff4db52212ac53c5","/**\n * EChartsPlus option transfer\n * 将 EChartsPlus 的配置转化为 ECharts 的配置\n */\nimport _ from 'lodash'\nimport { coordOption, visionsOrder, seriesOption, seriesType, visualRange } from './config'\n\nexport default function build (data, config) {\n  // 没有找到坐标系，默认为是ECharts的Option\n  if (config.coord == null) {\n    return config\n  }\n  var opt = {}\n  // 初始化类目轴相关配置信息\n  // categoryInfo like this:\n  // {\n  //   option: {\n  //     xAxis: [],\n  //     yAxis: []\n  //   },\n  //   indexMap: {\n  //     xxx_field: {\n  //       xxxx: 1\n  //     }\n  //   }\n  // }\n  var categoryInfo = generateCategoryInfo(data, config)\n  opt = _.merge(opt, categoryInfo.option)\n  var categoryIndexMap = categoryInfo.indexMap || {}\n\n  // 生成series\n  var series = generateSeries(data, config, config.series, categoryIndexMap)\n  opt.series = series\n\n  // 生成legend\n  var legends = []\n  if (config.legendTarget === 'series') {\n    legends = _.chain(series).map('name').compact().uniq().value()\n  } else if (config.legendTarget === 'item') {\n    legends = _.chain(series).map('data').flatten().map('name').compact().uniq().value()\n  }\n  if (legends.length > 0) {\n    opt.legend = {\n      show: true,\n      data: legends\n    }\n  }\n\n  // 生成 visualMap\n  var visaulVisions = _.chain(config.series).map('visions').flatten().filter((v) => {\n    return visionsOrder[v.channel] >= 2\n  }).value()\n  if (visaulVisions.length > 0) {\n    opt.visualMap = generateVisualMap(data, config, visaulVisions)\n  }\n\n  // 合并默认配置\n  opt = _.merge(opt, coordOption[config.coord])\n  opt = _.merge(opt, config.option)\n  return opt\n}\n\nfunction generateVisualMap (data, config, visions) {\n  return visions.map((v) => {\n    var min = _.minBy(data, v.field)[v.field]\n    var max = _.maxBy(data, v.field)[v.field]\n    var range\n    if (visualRange[v.channel]) {\n      range = {\n        [v.channel]: visualRange[v.channel]\n      }\n    }\n    return {\n      min: min,\n      max: max,\n      show: config.coord === 'map',\n      inRange: range,\n      calculable: true\n    }\n  })\n}\n\nfunction generateCategoryInfo (data, config, channel) {\n  if (!channel) {\n    var xInfo = generateCategoryInfo(data, config, 'x')\n    var yInfo = generateCategoryInfo(data, config, 'y')\n    return {\n      option: {\n        xAxis: xInfo.axis,\n        yAxis: yInfo.axis\n      },\n      indexMap: _.assign(xInfo.indexMap, yInfo.indexMap)\n    }\n  }\n\n  var indexMap = {}\n  var valueTranslator = config.valueTranslator || defaultValueTranslator\n\n  var userOption = config.option || {}\n  var axis = config[channel + 'Axis'] || []\n  if (!_.isArray(axis)) {\n    axis = [axis]\n  }\n  var visions = _.chain(config.series).map('visions').flatten().filter({ channel: channel }).value()\n  visions.forEach((v) => {\n    var axisIndex = (v.option && v.option[channel + 'AxisIndex']) || 0\n    axis[axisIndex] = axis[axisIndex] || {\n      type: channel === 'x' ? 'category' : 'value'\n    }\n    if (axis[axisIndex].type === 'category') {\n      var categories = _.chain(data).uniqBy(v.field).sortBy(v.field).value()\n      var categoriesName = []\n      var indexMapItem = {}\n      categories.forEach(function (c, index) {\n        indexMapItem[c[v.field]] = index\n        categoriesName.push(valueTranslator(v.field, c[v.field], c))\n      })\n      axis[axisIndex].data = categoriesName\n      indexMap[v.field] = indexMapItem\n    }\n  })\n  return {\n    axis: visions.length > 0 ? axis : null,\n    indexMap: indexMap\n  }\n}\n\nfunction generateSeries (data, config, seriesConfig, categoryIndexMap) {\n  var itemTranslator = config.itemTranslator || defaultItemTranslator\n  var valueTranslator = config.valueTranslator || defaultValueTranslator\n  var series = _.chain(seriesConfig).map((sConfig) => {\n    if (sConfig.generator) {\n      // 需要循环生成多个series\n      return _.chain(data).groupBy(sConfig.generator).map((group, key) => {\n        var subConfig = {\n          name: valueTranslator(sConfig.generator, key, group[0])\n        }\n        _.assign(subConfig, sConfig)\n        subConfig.generator = null\n        return generateSeries(group, config, [subConfig], categoryIndexMap)[0]\n      }).value()\n    }\n    var visions = _.chain(sConfig.visions).filter((v) => {\n      return v.channel !== 'name'\n    }).sort((a, b) => {\n      return visionsOrder[a.channel] - visionsOrder[b.channel]\n    }).value()\n    var nameVision = _.find(sConfig.visions, { channel: 'name' })\n    var s = {}\n    s.name = sConfig.name || (sConfig.option && sConfig.option.name)\n    s.data = data.map((item) => {\n      var value = visions.map((v) => {\n        if (categoryIndexMap[v.field]) {\n          return categoryIndexMap[v.field][item[v.field]]\n        } else {\n          return item[v.field]\n        }\n      })\n      var name = itemTranslator(item)\n      if (name == null && nameVision) {\n        name = valueTranslator(nameVision.field, item[nameVision.field], item)\n      }\n      return {\n        name: name || s.name,\n        value: value\n      }\n    })\n    s.type = sConfig.type || seriesType[config.coord]\n    s = _.merge(s, sConfig.option)\n    s = _.merge(s, getSeriesDefaultOption(s.type))\n    return s\n  }).value()\n  return _.flatten(series)\n}\n\nfunction getSeriesDefaultOption (type) {\n  return seriesOption[type]\n}\n\nfunction defaultItemTranslator (item) {\n  return item.name || null\n}\n\nfunction defaultValueTranslator (field, value, item) {\n  if (item && item[field + '__name']) {\n    return item[field + '__name']\n  } else {\n    return value\n  }\n}\n\nmodule.exports = exports['default']\n\n\n\n// WEBPACK FOOTER //\n// ./src/transfer/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0","module.exports = echarts;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"echarts\"\n// module id = 2\n// module chunks = 0","export const coordOption = {\n  rect: {\n  },\n  map: {\n  }\n}\n\nexport const seriesType = {\n  rect: 'bar',\n  polar: 'pie',\n  map: 'map'\n}\n\nexport const visionsOrder = {\n  x: 0,\n  y: 1,\n  angle: 0,\n  symbolSize: 2,\n  color: 3,\n  name: -1\n}\n\nexport const seriesOption = {\n  scatter: {\n  },\n  map: {\n    mapType: 'china'\n  }\n}\n\nexport const visualRange = {\n  symbolSize: [10, 80]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/transfer/config.js","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}\n// module id = 4\n// module chunks = 0","import echarts from 'echarts'\nimport transfer from './transfer'\n\nclass EChartsPlus {\n\n  constructor (data, option) {\n    this._data = data\n    this._option = option\n    this._echartsOption = null\n\n    this.echarts = null\n  }\n\n  setData (data) {\n    this._data = data\n    this.setOption(this._option)\n  }\n\n  setOption (option) {\n    this._option = option\n    if (this.echarts) {\n      this._echartsOption = transfer(this._data, this._option)\n      this.echarts.setOption(this._echartsOption)\n    }\n  }\n\n  static buildOption (data, option) {\n    return transfer(data, option)\n  }\n\n  renderTo (ele) {\n    if (typeof ele === 'string') {\n      // ele is a id\n      ele = document.getElementById(ele)\n    }\n    this.echarts = echarts.init(ele)\n    if (this._echartsOption) {\n      // option already cached\n      this.echarts.setOption(this._echartsOption)\n    } else {\n      // generate echartsOption\n      this.setOption(this._option)\n    }\n  }\n\n  getECharts () {\n    return this.echarts\n  }\n}\n\nglobal.EChartsPlus = global.EChartsPlus || EChartsPlus\nglobal.echarts = global.echarts || echarts\n\nexport default EChartsPlus\n\nmodule.exports = exports['default']\n\n\n\n// WEBPACK FOOTER //\n// ./src/echarts-plus.js"],"sourceRoot":""}